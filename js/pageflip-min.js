function isValidIEVersion(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=i.exec(t)&&(e=parseFloat(RegExp.$1))}else if("Netscape"==navigator.appName){var t=navigator.userAgent,i=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");null!=i.exec(t)&&(e=parseFloat(RegExp.$1))}return e>=10}var ie10plus=!1;isValidIEVersion()&&(ie10plus=!0,$("body").removeClass("not-ie"));var RocketPageFlip;RocketPageFlip=function(e,t){var i={current:0,navigation:!0,directionalNav:!0,prevText:"prev",nextText:"next",fade:!0};this.rotating=!1,t=t||{},this.options=$.extend(i,t),this.el={main:$(e)},this.el.pages=this.el.main.find("> .page"),this.init()},RocketPageFlip.prototype.init=function(){this.isModernBrowser=this.supports("Transition")&&this.supports("Transform")&&this.supports("Perspective"),this.buildNavigation(),this.showCurrent()},RocketPageFlip.prototype.supports=function(e){return!0;var t=document.createElement("div"),i="Khtml Ms O Moz Webkit".split(" "),n=i.length;if(e in t.style)return!0;for(e=e.replace(/^[a-z]/,function(e){return e.toUpperCase()});n--;)if(i[n]+e in t.style)return!0;return!1},RocketPageFlip.prototype.buildNavigation=function(){var e=this,t,i,n,a;this.options.directionalNav&&(t=$("<a>").html(this.options.prevText).addClass("flip-directional flip-prev").attr("href","#").click(function(t){t.preventDefault(),e.rotating||e.prev()}),i=$("<a>").html(this.options.nextText).addClass("flip-directional flip-next").attr("href","#").click(function(t){t.preventDefault(),e.rotating||e.next()}),this.el.main.append(t,i)),this.options.navigation&&(n=$("<div>").addClass("flip-navigation"),a=0,this.el.pages.each(function(){n.append($("<a>").attr("href","#").data("page",a)),a++}),n.find("a").click(function(t){t.preventDefault(),e.rotating||e.flip($(this).data("page"))}),this.el.navigation=n,this.el.main.append(n))},RocketPageFlip.prototype.showCurrent=function(e){var t=this;e=e||!1,e?this.el.pages.hide().eq(this.options.current).fadeIn(300):this.el.pages.hide().eq(this.options.current).show(),this.options.navigation&&t.el.navigation.find("a").removeClass("active").eq(this.options.current).addClass("active")},RocketPageFlip.prototype.flip=function(e){var t,i,n,a,s,o,r,p,l,d,h=this;if(prevPage=this.options.current,prevPage!==e){if(e>=this.el.pages.length&&(e=0),0>e&&(e=this.el.pages.length-1),this.options.current=e,!this.isModernBrowser)return void this.showCurrent(this.options.fade);t=e<prevPage,l=$("<div>").addClass("dark-overlay"),d=$("<div>").addClass("dark-overlay page-overlay darken"),i=this.el.pages.eq(this.options.current),n=this.el.pages.eq(prevPage),r=$("<div>").addClass("side side-front").append(i.clone()),p=$("<div>").addClass("side side-back").append(n.clone()),t?s=$("<div>").addClass("half half-right").append(n.clone(),l):a=$("<div>").addClass("half half-left").append(n.clone(),l),ie10plus&&r.hide(),o=$("<div>").addClass("flip-part").append(r,p),o.addClass(t?"flipped":"flip-reverse"),this.el.main.append(a,s,o,d),this.showCurrent(),setTimeout(function(){o.toggleClass("flipped"),l.addClass("darken"),d.removeClass("darken"),ie10plus&&setTimeout(function(){r.show(),p.hide()},400)},50),this.rotating=!0,o.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(e){e.target===o.get(0)&&(h.rotating=!1,l.remove(),d.remove(),a&&a.remove(),s&&s.remove(),o.remove())})}},RocketPageFlip.prototype.next=function(){this.flip(this.options.current+1)},RocketPageFlip.prototype.prev=function(){this.flip(this.options.current-1)};